- name: Install packages
  package:
    name:
      - git
      - stow
      - zsh
      - ruby
      - tmux
      - vim
      - xorg
      - i3
      - xbindkeys
      - xcompmgr
      - rxvt-unicode
      - chromium-browser
      - ansible
      - docker.io
      - alsa
      - npm
      - vagrant

- name: Install snap packages
  snap:
    classic: yes
    name:
      - intellij-idea-ultimate
      - webstorm

# TODO: Not working
#- name: Install gem packages
#  gem:
#    name: tmuxinator

- name: Install oh-my-zsh
  become: yes
  become_user: scott
  # Reading in 'y' is necessary otherwise provisioning freezes. This is because the install script prompts 'y/n' at one point.
  shell: |
    sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)" << EOF
    y
    EOF
  args:
    chdir: /home/scott/
    creates: ~/.oh-my-zsh
